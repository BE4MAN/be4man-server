# 일정관리 시스템 핵심 요약 (PPT용)

## 1️⃣ 작업 금지 기간 관리 (Ban)
**CRUD + 반복 일정 지원**

```
생성/조회/취소 → 반복 일정 계산 → 프로젝트 연동
- 반복 타입: 일일/주간/월간
- 프로젝트: 다중 프로젝트 연동 (ProjectBan)
```

**주요 기능**
- ✅ 작업 금지 기간 생성 (제목, 설명, 시간, 프로젝트)
- ✅ 반복 일정: DAILY, WEEKLY, MONTHLY
- ✅ 기간별 조회 (필터: 제목, 날짜, 타입, 프로젝트)
- ✅ 작업 금지 기간 취소 (Soft Delete)

---

## 2️⃣ 반복 일정 처리
**RecurrenceCalculator로 실제 발생 일정 계산**

| 반복 타입 | 설정 항목 | 예시 |
|---------|---------|------|
| **일일 (DAILY)** | 시작일, 시작시간, 지속시간 | 매일 02:00~04:00 |
| **주간 (WEEKLY)** | + 요일 | 매주 월요일 02:00~04:00 |
| **월간 (MONTHLY)** | + 주차, 요일 | 매월 첫째 주 월요일 02:00~04:00 |

**계산 로직**
- 반복 설정 → 실제 발생 일정 리스트 변환
- 기간 내 모든 발생 일정 계산 (Period: startDateTime, endDateTime)
- 무한 반복 또는 종료일 설정

---

## 3️⃣ 배포 작업 충돌 검사 및 자동 취소
**Ban 생성 시 겹치는 Deployment 자동 취소**

```
Ban 생성 → 반복 일정 계산 → Deployment 충돌 검사 → 자동 취소
```

**충돌 검사 로직**
1. Ban의 반복 일정을 실제 발생 일정으로 변환
2. 각 발생 일정과 겹치는 Deployment 조회
3. 관련 프로젝트 포함 (단방향 RelatedProject)
4. 겹치는 Deployment 상태를 CANCELED로 변경

**사전 충돌 확인**
- Ban 등록 전 충돌 Deployment 조회 API
- 입력 폼 기반 실시간 충돌 체크

---

## 4️⃣ 공공 데이터 연동 (공휴일)
**공공 데이터 포털 API로 공휴일 정보 연동**

```
공공 데이터 API → 연도별 공휴일 조회 → 스케줄 메타데이터 포함
```

**주요 기능**
- ✅ 공공 데이터 포털(data.go.kr) API 연동
- ✅ 연도별 공휴일 정보 조회
- ✅ 스케줄 메타데이터에 공휴일 목록 포함
- ✅ 공휴일 기반 일정 관리 지원

**연동 방식**
- 공공 데이터 포털 OpenAPI 활용
- 연도별 공휴일 자동 조회 및 반영
- 스케줄 조회 시 공휴일 정보 제공

---

## 핵심 키워드

**일정 관리**: Ban (작업 금지), Deployment (배포 작업)  
**반복 일정**: DAILY/WEEKLY/MONTHLY, RecurrenceCalculator  
**충돌 처리**: 자동 취소, 사전 검사  
**공휴일**: 공공 데이터 API 연동, 연도별 조회  
**프로젝트**: 다중 연동, RelatedProject

